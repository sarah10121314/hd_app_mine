<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
		<meta name="description" content="admin-themes-lab">
		<meta name="author" content="themes-lab">
		<link rel="shortcut icon" href="../assets/images/favicon.png" type="image/png">
		<title>海道APP管理系统</title>
		<style>
			.weight>input {
				border: none;
				height: 25px;
				background-color: #ccc;
				color: green;
				border-radius: 3px;
				width: 100%;
			}
			
			.btn-sm:first-child {
				margin-left: 10px !important;
			}
			
			#leftDelete,
			#middleDelete,
			#rightDelete {
				margin-bottom: 0px;
			}
			
			#middleTable_wrapper,
			#rightTable_wrapper,
			#leftTable_wrapper {
				border: none;
				padding: 0;
				overflow-x: inherit;
				overflow-y: inherit;
			}
			
			.sorting_1 {
				width: 200px !important;
			}
			
			.name {
				width: 300px !important;
			}
			
			.form-group label {
				position: static;
			}
			
			.form-control {
				border: 1px solid #ccc !important;
				background-color: #fff !important;
			}
			
			.abtn {
				min-width: 200px;
			}
		</style>
		<link href="../../../assets/css/style.css" rel="stylesheet" />
		<link href="../../../assets/css/theme.css" rel="stylesheet" />
		<link href="../../../assets/css/ui.css" rel="stylesheet" />
		<link rel="stylesheet" href="../../../assets/plugins/datatables/dataTables.min.css" />
		<link rel="stylesheet" href="../../../assets/plugins/datatables/dataTables.bootstrap.min.css" />

	</head>

	<body class="">
		<section>
			<div class="main-content main-content-page">
				<!-- BEGIN PAGE CONTENT -->
				<div class="page-content" style="padding:0 30px">

					<div class="header">
						<h2>
					<strong>车型配置管理</strong>
				</h2>
						<div class="breadcrumb-wrapper">
							<span id="expertHover" data-toggle="modal" data-target="#function_declaration_Modal" data-backdrop=""><i class="icon-question"></i></span>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-default">
								<div class="panel-content pagination2">
									<div class="row">
										<div class="col-md-12 col-sm-12 col-xs-12">
											<div class="head">
												<div class="row">

													<div class="form-group col-md-12">

														<a href="javascript:;">
															<button type="button" class="btn btn-success addConfig"><i
															class="fa fa-plus"></i>&nbsp;添加配置
													</button>
														</a>
														<a href="javascript:;">
															<button type="button" class="btn btn-danger " id="delete">删除&nbsp;
													</button>
														</a>

														<div class="col-sm-3 col-xs-4 control-select">
															<div class="append-icon">
																<input id="SearchName" class="form-control" placeholder="名称查询" type="text">
																<i class="icon-magnifier"></i>
															</div>
														</div>

													</div>
												</div>
											</div>
											<div class="panel-content">
												<ul class="nav nav-tabs">
													<li class="active">
														<a href="#tab1_1" data-toggle="tab" aria-expanded="true">车型管理</a>
													</li>
													<li class="">
														<a href="#tab1_2" data-toggle="tab" aria-expanded="false">特殊规格管理</a>
													</li>
													<li class="">
														<a href="#tab1_3" data-toggle="tab" aria-expanded="false">整车长管理</a>
													</li>
												</ul>
												<div class="tab-content">
													<div class="tab-pane fade active in" id="tab1_1">
														<table class="table table-striped dataTable" id="leftTable" width="100%">
														</table>

													</div>
													<div class="tab-pane fade" id="tab1_2">
														<table class="table table-striped dataTable" id="middleTable" width="100%">
														</table>
													</div>
													<div class="tab-pane fade" id="tab1_3">
														<table class="table table-striped dataTable" id="rightTable" width="100%">
														</table>
													</div>
												</div>
											</div>
											<!--<table class="table table-striped dataTable"-->
											<!--id="leftTable" width="100%">-->
											<!--</table>-->
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
				<!-- END PAGE CONTENT -->
			</div>
			<!-- END MAIN CONTENT -->

		</section>

		<!-- BEGIN PRELOADER -->
		<div class="loader-overlay">
			<div class="spinner">
				<div class="bounce1"></div>
				<div class="bounce2"></div>
				<div class="bounce3"></div>
			</div>
		</div>
		<!-- END PRELOADER -->

		<a href="#" class="scrollup"><i class="fa fa-angle-up"></i> </a>
		<script src="../../../assets/plugins/jquery/jquery-1.11.1.min.js"></script>
		<script src="../../../assets/plugins/jquery/jquery-migrate-1.2.1.min.js"></script>
		<script src="../../../assets/plugins/jquery-ui/jquery-ui-1.11.2.min.js"></script>
		<script src="../../../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
		<script src="../../../assets/plugins/jquery-cookies/jquery.cookies.min.js"></script>
		<!-- Jquery Cookies, for theme -->
		<script src="../../../assets/plugins/jquery-block-ui/jquery.blockUI.min.js"></script>
		<!-- simulate synchronous behavior when using AJAX -->
		<script src="../../../assets/plugins/translate/jqueryTranslator.min.js"></script>
		<!-- Translate Plugin with JSON data -->
		<script src="../../../assets/plugins/bootbox/bootbox.min.js"></script>
		<!-- Modal with Validation -->
		<script src="../../../assets/plugins/mcustom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
		<!-- Custom Scrollbar sidebar -->
		<script src="../../../assets/plugins/bootstrap-dropdown/bootstrap-hover-dropdown.min.js"></script>
		<!-- Show Dropdown on Mouseover -->
		<script src="../../../assets/plugins/select2/select2.min.js"></script>
		<!-- Select Inputs -->
		<!-- Retina Display -->
		<script src="../../../assets/plugins/backstretch/backstretch.min.js"></script>
		<!-- Background Image -->
		<script src="../../../assets/plugins/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
		<!-- Animated Progress Bar -->
		<script src="../../../assets/js/plugins.js"></script>
		<!-- Main Plugin Initialization Script -->
		<script src="../../../assets/js/page.js"></script>
		<!-- Main Application Script -->

		<!-- datatable -->
		<script type="text/javascript" src="../../../assets/plugins/datatables/jquery.dataTables.min.js"></script>
		<script type="text/javascript" src="../../../assets/plugins/datatables/dataTables.bootstrap.min.js"></script>

		<script type="text/javascript" src="../../../assets/js/jquery.form.js"></script>
		<script type="text/javascript" src="../../../assets/plugins/adaptive-modal/js/jquery.adaptive-modal.js"></script>
		<script type="text/javascript" src="../../../assets/plugins/icheck/icheck.min.js"></script>
		<script src="../../../assets/plugins/colorpicker/spectrum.min.js"></script>
		<script type="text/javascript" src="../../../assets/plugins/datatables/jquery.dataTables_userDef.js"></script>
		<script type="text/javascript" src="../../../assets/plugins/timepicker/jquery-ui-timepicker-addon.min.js"></script>
		<!-- Time Picker -->
		<script type="text/javascript" src="../../../assets/plugins/jquery-moment/moment.js"></script>
		<!-- moment -->
		<script type="text/javascript" src="../../../assets/plugins/datatables/dataTables.select.min.js"></script>

		<script type="text/javascript" src="../../../assets/plugins/layer/layer.js"></script>

		<!-- 外联资源添加 -->
		<script>
			$(function() {
				var msg = {
					"car": [{
						"id": "987412121",
						"name": "解放-J6M"
					}, {
						"id": "987412122",
						"name": "解放-J6L"
					}, {
						"id": "987412123",
						"name": "福特福克斯"
					}, {
						"id": "987412121",
						"name": "解放-J6M"
					}, {
						"id": "987412122",
						"name": "解放-J6L"
					}, {
						"id": "987412121",
						"name": "解放-J6M"
					}, {
						"id": "987412122",
						"name": "解放-J6L"
					}, {
						"id": "987412121",
						"name": "解放-J6M"
					}, {
						"id": "987412122",
						"name": "解放-J6L"
					}, {
						"id": "987412121",
						"name": "解放-J6M"
					}, {
						"id": "987412122",
						"name": "解放-J6L"
					}, {
						"id": "987412121",
						"name": "解放-J6M"
					}, {
						"id": "987412122",
						"name": "解放-J6L"
					}],
					"specificGrade": [{
						"id": "987412124",
						"name": "无后备箱"
					}, {
						"id": "987412125",
						"name": "全拆座"
					}, {
						"id": "987412126",
						"name": "车座拆掉两个"
					}],
					"vehicleLength": [{
						"id": "987412127",
						"name": "6.2米"
					}, {
						"id": "987412128",
						"name": "8.9米"
					}, {
						"id": "987412129",
						"name": "11.6米"
					}]
				}
				createLeftTable();
				createMiddleTable();
				createRightTable();

				//        var dataSet;
				//        $.ajax({
				//            url:"userManagement.json",
				//            success:function (msg) {
				//
				//                dataSet = msg.data;
				//
				//            }
				//        })
				function createLeftTable() {
					$("#leftTable").dataTable({

						//				"ajax" : {
						//				 "url" : "./userManagement.json",
						//				 "data": function (data) {
						////				 return $.extend( {}, data, {
						////				 "siteid" : $("#psite").val(),
						////				 "name" : $("#btnSearchName").val()
						//					 console.log(data)
						//				 	}
						//				 },

						"data": msg.car,

						//            "data": [
						//                {
						//                    "id": "00001",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "101",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//					"flag":true
						//                },
						//                {
						//                    "id": "00002",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "101",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//                    "flag":true
						//                },
						//                {
						//                    "id": "00003",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "99",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//                    "flag":false
						//                }
						//            ],
						searching: false,
						lengthChange: false, // 是否启用设置每页显示记录数
						"language": {
							"sLengthMenu": "&nbsp;&nbsp;&nbsp;&nbsp;每页显示 _MENU_ 条",
							"sZeroRecords": "抱歉， 没有找到",
							"sEmptyTable": "抱歉， 没有找到",
							"sInfo": '显示 _START_ 到 _END_ 条　共 _TOTAL_ 条',
							"sInfoEmpty": "没有记录",
							"sInfoFiltered": "(从 _MAX_ 条数据中检索)",
							"sProcessing": "正在加载中...",
							"sSearch": "搜索：",
							"oPaginate": {
								"sFirst": "首页",
								"sPrevious": "上一页",
								"sNext": "下一页",
								"sLast": "末页"
							}
						},
						"pagingType": "full_numbers", //分页 有first last
						"columns": [{
							"title": '<div class="icheckbox_flat-red allChecked" style="vertical-align: middle" ></div>全选',
							"data": "null",
							"name": "outreach.company",
							"visible": true,
							"orderable": false,
							"render": function(data, type, full, meta) {
								var operBtn = '<div class="icheckbox_flat-blue " style="position: relative;"></div>';
								return operBtn;
							}
						}, {
							"title": "名称",
							"data": "name",
							"name": "outreach.company",
							"class": "name",
							"visible": true,
							"orderable": true,
						}, {
							"title": "操作",
							"data": "id",
							"visible": true,
							"orderable": false,
							"class": "abtn",
							"render": function(data, type, full, meta) {
								var id = data;
								var operBtn = '<a  title="保存" class="save btn btn-sm btn-blue" style="display: none">保存</a>' +
									'<a title="修改" class="alter btn btn-sm btn-warning" >修改</a>' +
									'<a title="删除" class="delete btn btn-sm btn-danger">删除</a>';
								return operBtn;
							}
						}],
						//            "order" : [ [ 2, "desc" ] ]
						//            "lengthMenu":[[5,10,25,50,-1],[5,10,25,50,"全部"]]

					});
				}

				function createMiddleTable() {
					$("#middleTable").dataTable({

						//				"ajax" : {
						//				 "url" : "./userManagement.json",
						//				 "data": function (data) {
						////				 return $.extend( {}, data, {
						////				 "siteid" : $("#psite").val(),
						////				 "name" : $("#btnSearchName").val()
						//					 console.log(data)
						//				 	}
						//				 },

						"data": msg.specificGrade,

						//            "data": [
						//                {
						//                    "id": "00001",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "101",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//					"flag":true
						//                },
						//                {
						//                    "id": "00002",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "101",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//                    "flag":true
						//                },
						//                {
						//                    "id": "00003",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "99",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//                    "flag":false
						//                }
						//            ],
						searching: false,
						lengthChange: false, // 是否启用设置每页显示记录数
						"language": {
							"sLengthMenu": "&nbsp;&nbsp;&nbsp;&nbsp;每页显示 _MENU_ 条",
							"sZeroRecords": "抱歉， 没有找到",
							"sEmptyTable": "抱歉， 没有找到",
							"sInfo": '显示 _START_ 到 _END_ 条　共 _TOTAL_ 条',

							"sInfoEmpty": "没有记录",
							"sInfoFiltered": "(从 _MAX_ 条数据中检索)",
							"sProcessing": "正在加载中...",
							"sSearch": "搜索：",
							"oPaginate": {
								"sFirst": "首页",
								"sPrevious": "上一页",
								"sNext": "下一页",
								"sLast": "末页"
							}
						},
						"pagingType": "full_numbers", //分页 有first last
						"columns": [{
							"title": '<div class="icheckbox_flat-red allChecked" style="vertical-align: middle" ></div>全选',
							"data": "null",
							"name": "outreach.company",
							"visible": true,
							"orderable": false,
							"render": function(data, type, full, meta) {
								var operBtn = '<div class="icheckbox_flat-blue " style="position: relative;"></div>';
								return operBtn;
							}
						}, {
							"title": "名称",
							"data": "name",
							"class": "name",
							"name": "outreach.company",
							"visible": true,
							"width": "20%",
							"orderable": true,
						}, {
							"title": "操作",
							"data": "id",
							"visible": true,
							"width": "20%",
							"orderable": false,
							"class": "abtn",
							"render": function(data, type, full, meta) {
								var id = data;
								var operBtn = '<a  title="保存" class="save btn btn-sm btn-blue" style="display: none">保存</a>' +
									'<a title="修改" class="alter btn btn-sm btn-warning" >修改</a>' +
									'<a title="删除" class="delete btn btn-sm btn-danger">删除</a>';
								return operBtn;
							}
						}],
						//            "order" : [ [ 2, "desc" ] ]
						//            "lengthMenu":[[5,10,25,50,-1],[5,10,25,50,"全部"]]

					});
				}

				function createRightTable() {
					$("#rightTable").dataTable({

						//				"ajax" : {
						//				 "url" : "./userManagement.json",
						//				 "data": function (data) {
						////				 return $.extend( {}, data, {
						////				 "siteid" : $("#psite").val(),
						////				 "name" : $("#btnSearchName").val()
						//					 console.log(data)
						//				 	}
						//				 },

						"data": msg.vehicleLength,

						//            "data": [
						//                {
						//                    "id": "00001",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "101",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//					"flag":true
						//                },
						//                {
						//                    "id": "00002",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "101",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//                    "flag":true
						//                },
						//                {
						//                    "id": "00003",
						//                    "company": "用户名",
						//                    "userStatus": "会员状态",
						//                    "idCard": "321088xxxxxxxxxx",
						//                    "dutytel": "电话",
						//                    "sex": "性别",
						//                    "linkman": "真实姓名",
						//                    "linktel": "123456",
						//                    "jobs": "99",
						//                    "sitename": "db",
						//                    "authInfo": "认证信息",
						//                    "flag":false
						//                }
						//            ],
						searching: false,
						lengthChange: false, // 是否启用设置每页显示记录数
						"language": {
							"sLengthMenu": "&nbsp;&nbsp;&nbsp;&nbsp;每页显示 _MENU_ 条",
							"sZeroRecords": "抱歉， 没有找到",
							"sEmptyTable": "抱歉， 没有找到",
							"sInfo": '显示 _START_ 到 _END_ 条　共 _TOTAL_ 条',
							"sInfoEmpty": "没有记录",
							"sInfoFiltered": "(从 _MAX_ 条数据中检索)",
							"sProcessing": "正在加载中...",
							"sSearch": "搜索：",
							"oPaginate": {
								"sFirst": "首页",
								"sPrevious": "上一页",
								"sNext": "下一页",
								"sLast": "末页"
							}
						},
						"pagingType": "full_numbers", //分页 有first last
						"columns": [{
							"title": '<div class="icheckbox_flat-red allChecked" style="vertical-align: middle" ></div>全选',
							"data": "null",
							"name": "outreach.company",
							"visible": true,
							"orderable": false,
							"render": function(data, type, full, meta) {
								var operBtn = '<div class="icheckbox_flat-blue " style="position: relative;"></div>';
								return operBtn;
							}
						}, {
							"title": "名称",
							"data": "name",
							"class": "name",
							"name": "outreach.company",
							"visible": true,
							"orderable": true,
						}, {
							"title": "操作",
							"data": "id",
							"visible": true,
							"orderable": false,
							"class": "abtn",
							"render": function(data, type, full, meta) {
								var id = data;
								var operBtn = '<a  title="保存" class="save btn btn-sm btn-blue" style="display: none">保存</a>' +
									'<a title="修改" class="alter btn btn-sm btn-warning" style="position:relative;" >修改</a>' +
									'<a title="删除" class="delete btn btn-sm btn-danger">删除</a>';
								return operBtn;
							}
						}],
						//            "order" : [ [ 2, "desc" ] ]
						//            "lengthMenu":[[5,10,25,50,-1],[5,10,25,50,"全部"]]

					});
				}
				//添加
				$(".addConfig").on("click", function() {
					var tr = '<tr role="row" class="odd"><td class="sorting_1"><div class="icheckbox_flat-blue " style="position: relative;"></div></td><td class="name"><input class="form-control" style="height:25px;line-height:25px;" type="text" placeholder="请输入配置名称"></td><td class=" abtn"><a  title="保存" class="save btn btn-sm btn-blue" style="display: inline-block">保存</a><a  title="取消" class="cancel btn btn-sm btn-default" style="display: inline-block">取消</a><a title="修改" class="alter btn btn-sm btn-warning" style="display: none" >修改</a><a title="删除" class="delete btn btn-sm btn-danger" style="display: none">删除</a></td></tr>'
					$(".active.in").find("tbody").prepend(tr);
				});
				//取消
				$(".tab-content").on("click", ".cancel", function() {
						$(this).parents("tr").remove();
					})
					//修改
				$(".tab-content").on("click", ".alter", function() {
					$(this).css("display", "none").siblings(".save").css("display", "inline-block").stop().siblings(".delete").css("display", "none");
					var text = $(this).parent().siblings(".name").text();
					var html = '<input class="form-control" style="height:25px;line-height:25px;" type="text" value="' + text + '">'
					$(this).parent().siblings(".name").html(html);
				});
				//保存
				$(".tab-content").on("click", ".save", function() {
					$(this).css("display", "none").siblings(".alter").css("display", "inline-block").stop().siblings(".delete").css("display", "inline-block");
					var val = $(this).parent().parent().find(".name input").val();
					$(this).parent().parent().find(".name").html(val);
				});
				//删除
				$(".tab-content").on("click", ".delete", function() {
					var that = $(this).parents("tr");
					var num1 = layer.open({
						content: "确定删除？",
						btn: ["确认", "取消"],
						yes: function() {
							that.remove();
							layer.close(num1);
						}
					});
				});
				//全选、反选、批量删除

				chooseDelete("#leftTable");
				chooseDelete("#middleTable");
				chooseDelete("#rightTable");
				
				
				function chooseDelete(el) {
					//全选
					$(el + " thead").on("click", ".allChecked", function() {
						$(this).toggleClass("checked");
						if($(this).hasClass("checked")) {
							$(el + " tbody .icheckbox_flat-blue").addClass("checked");
						} else {
							$(el + " tbody .icheckbox_flat-blue").removeClass("checked");
						}
					});
					//反选
					var select;
					$(el).on("click", ".icheckbox_flat-blue", function() {
						$(this).toggleClass('checked');
						var length1 = $(el + " tbody").find(".icheckbox_flat-blue").length;
						var length2 = $(el + " tbody").find(".checked").length;
						select = $(el + " tbody").find(".checked").parents("tr")
						if(length1 == length2) {
							$(el + " thead").find(".allChecked").addClass("checked");
						} else {
							$(el + " thead").find(".allChecked").removeClass("checked");
						}
					});
					//选择删除
					$("#delete").on("click", function() {
						if($(el + " tbody").find(".checked").length == 0) {
							return;
						}
						var num1 = layer.open({
							content: "确定删除？",
							btn: ["确认", "取消"],
							yes: function() {
								if($(el + " thead").find(".allChecked").hasClass("checked")) {
									$(el + " tbody").html("");
									layer.close(num1);
									return;
								}
								select.remove();
								layer.close(num1);
							}
						});
					})
				}
			})
		</script>
	</body>

</html>
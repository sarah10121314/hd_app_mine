<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="admin-themes-lab">
    <meta name="author" content="themes-lab">
    <link rel="shortcut icon" href="../assets/images/favicon.png"
          type="image/png">
    <title>海道APP管理系统</title>
    <style>
        .weight>input {
            border:none;
            height: 25px;
            background-color: #ccc;
            color:green;
            border-radius: 3px;
            width: 100%;
        }
        th[colspan="4"] {
            text-align: center;
        }
        #dateTable_wrapper,#monthTable_wrapper{
            border:none;
            padding:0;
            overflow-x: inherit;
            overflow-y: inherit;
        }
        tfoot {
            background-color: rgba(255,246,135,.3);
        }
        .form-group label {
            position: static;
        }
        .form-control {
            border: 1px solid #ccc !important;
            background-color: #fff !important;
        }
        .abtn {

        }
    </style>
    <link href="../../assets/css/style.css" rel="stylesheet" />
    <link href="../../assets/css/theme.css" rel="stylesheet" />
    <link href="../../assets/css/ui.css" rel="stylesheet" />

    <link rel="stylesheet" href="../../assets/plugins/datatables/dataTables.min.css" />
    <link rel="stylesheet" href="../../assets/plugins/datatables/dataTables.bootstrap.min.css" />
    <link rel="stylesheet" href="../../assets/plugins/bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.min.css">

</head>
<body class="">
<section>
    <div class="main-content main-content-page">
        <!-- BEGIN PAGE CONTENT -->
        <div class="page-content" style="padding:0 30px">

            <div class="header">
                <h2>
                    <strong>财务报表</strong>
                </h2>
                <div class="breadcrumb-wrapper">
                    <span  data-toggle="modal" data-target="#function_declaration_Modal" onclick='$("table").tableExport({type:"excel"})'><i class="glyphicon glyphicon-paperclip" title="导出表格"></i></span>
                    <span  data-toggle="modal" data-target="#function_declaration_Modal" onclick='$("table").tableExport({type:"png"})'><i class="glyphicon glyphicon-th" title="导出图片"></i></span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-content pagination2">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="head">

                                    </div>
                                    <div class="panel-content">
                                        <ul class="nav nav-tabs">
                                            <li class="active"><a href="#tab1_1" data-toggle="tab" aria-expanded="true">财务日报</a></li>
                                            <li class=""><a href="#tab1_2" data-toggle="tab" aria-expanded="false">财务月报</a></li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane fade active in" id="tab1_1">
                                                <div class="row">
                                                    <div class="form-group col-md-12">


                                                        <a href="javascript:;">
                                                            <button type="button" class="btn btn-danger all-delete">删除&nbsp;
                                                            </button>
                                                        </a>

                                                        <div class="col-sm-3 col-xs-6 control-select">
                                                            <div class="input-group date form_date col-sm-12 chooseTime-day"  data-link-field="dtp_input2" >
                                                                <input class="form-control" size="16" type="text" placeholder="开始时间">
                                                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                                                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <table class="table table-striped dataTable"
                                                       id="dateTable" width="100%">
                                                    <caption style="font-size:20px;font-weight: 600">2017年8月29日</caption>
                                                    <thead>
                                                    <tr>
                                                        <th colspan="3"></th>
                                                        <th colspan="4" style="border-bottom: 2px solid red;color: red">我的收入</th>
                                                        <th colspan="4" style="border-bottom: 2px solid blue; color:blue">我的消费</th>
                                                        <th colspan="2"></th>
                                                    </tr>
                                                    <tr>
                                                        <th></th>
                                                        <th>用户名</th>
                                                        <th>原账户余额</th>
                                                        <th>消费金额</th>
                                                        <th>金币抵扣金额</th>
                                                        <th>折扣券抵扣金额</th>
                                                        <th>平台实收</th>
                                                        <th>收入金额</th>
                                                        <th>金币抵扣金额</th>
                                                        <th>折扣券抵扣金额</th>
                                                        <th>平台实收</th>
                                                        <th>提现金额</th>
                                                        <th>现账户余额</th>
                                                    </tr>
                                                    </thead>
                                                    <tfoot>
                                                    <tr>
                                                        <th></th>
                                                        <th>合计</th>
                                                        <th>122</th>
                                                        <th>122</th>
                                                        <th>12332</th>
                                                        <th>142</th>
                                                        <th>122</th>
                                                        <th>122</th>
                                                        <th>12332</th>
                                                        <th>142</th>
                                                    </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <div class="tab-pane fade" id="tab1_2">
                                                <div class="row">
                                                    <div class="form-group col-md-12">


                                                        <a href="javascript:;">
                                                            <button type="button" class="btn btn-danger all-delete">删除&nbsp;
                                                            </button>
                                                        </a>
                                                        <div class="col-sm-3 col-xs-6 control-select">
                                                            <div class="input-group date form_date col-sm-12 chooseTime-month"  data-link-field="dtp_input2" >
                                                                <input class="form-control" size="16" type="text" placeholder="时间">
                                                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                                                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <table class="table table-striped dataTable"
                                                       id="monthTable" width="100%">
                                                    <caption style="font-size:20px;font-weight: 600">2017年8月</caption>
                                                    <thead>
                                                        <tr>
                                                            <th></th>
                                                            <th>项目</th>
                                                            <th>消费金额</th>
                                                            <th>海道币抵扣券</th>
                                                            <th>抵扣券抵扣金额</th>
                                                            <th>现金券抵扣券</th>
                                                            <th>实收金额</th>
                                                        </tr>
                                                    </thead>
                                                    <tfoot>
                                                        <tr>
                                                            <th></th>
                                                            <th>合计</th>
                                                            <th>1000</th>
                                                            <th>10000</th>
                                                            <th>500</th>
                                                            <th>456</th>
                                                            <th>7568</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>




        </div>
        <!-- END PAGE CONTENT -->
    </div>
    <!-- END MAIN CONTENT -->



</section>

<!-- BEGIN PRELOADER -->
<div class="loader-overlay">
    <div class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
</div>
<!-- END PRELOADER -->



<a href="#" class="scrollup"><i class="fa fa-angle-up"></i> </a>
<script src="../../assets/plugins/jquery/jquery-1.11.1.min.js"></script>
<script src="../../assets/plugins/jquery/jquery-migrate-1.2.1.min.js"></script>
<script src="../../assets/plugins/jquery-ui/jquery-ui-1.11.2.min.js"></script>
<script src="../../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="../../assets/plugins/jquery-cookies/jquery.cookies.min.js"></script>
<!-- Jquery Cookies, for theme -->
<script src="../../assets/plugins/jquery-block-ui/jquery.blockUI.min.js"></script>
<!-- simulate synchronous behavior when using AJAX -->
<script src="../../assets/plugins/translate/jqueryTranslator.min.js"></script>
<!-- Translate Plugin with JSON data -->
<script src="../../assets/plugins/bootbox/bootbox.min.js"></script>
<!-- Modal with Validation -->
<script
        src="../../assets/plugins/mcustom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
<!-- Custom Scrollbar sidebar -->
<script
        src="../../assets/plugins/bootstrap-dropdown/bootstrap-hover-dropdown.min.js"></script>
<!-- Show Dropdown on Mouseover -->
<script src="../../assets/plugins/select2/select2.min.js"></script>
<!-- Select Inputs -->
<!-- Retina Display -->
<script src="../../assets/plugins/backstretch/backstretch.min.js"></script>
<!-- Background Image -->
<script
        src="../../assets/plugins/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
<!-- Animated Progress Bar -->
<script src="../../assets/js/plugins.js"></script>
<!-- Main Plugin Initialization Script -->
<script src="../../assets/js/page.js"></script>
<!-- Main Application Script -->

<!-- datatable -->
<script type="text/javascript"
        src="../../assets/plugins/datatables/jquery.dataTables.min.js"></script>
<script type="text/javascript"
        src="../../assets/plugins/datatables/dataTables.bootstrap.min.js"></script>

<script type="text/javascript" src="../../../assets/js/jquery.form.js"></script>
<script type="text/javascript"
        src="../../assets/plugins/adaptive-modal/js/jquery.adaptive-modal.js"></script>
<script type="text/javascript"
        src="../../assets/plugins/icheck/icheck.min.js"></script>
<script src="../../assets/plugins/colorpicker/spectrum.min.js"></script>
<script type="text/javascript"
        src="../../assets/plugins/datatables/jquery.dataTables_userDef.js"></script>
<script type="text/javascript"
        src="../../assets/plugins/timepicker/jquery-ui-timepicker-addon.min.js"></script>
<!-- Time Picker -->
<script type="text/javascript"
        src="../../assets/plugins/jquery-moment/moment.js"></script>
<!-- moment -->
<script type="text/javascript"
        src="../../assets/plugins/datatables/dataTables.select.min.js"></script>



<script type="text/javascript" src="../../assets/plugins/layer/layer.js"></script>
<script type="text/javascript" src="../../assets/plugins/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript" src="../../assets/plugins/bootstrap-datetimepicker-master/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
<script src=tableExport.jquery.plugin-master/libs/FileSaver/FileSaver.min.js></script>
<script src=tableExport.jquery.plugin-master/libs/html2canvas/html2canvas.min.js></script>
<script src="tableExport.jquery.plugin-master/libs/js-xlsx/xlsx.core.min.js"></script>
<script src="tableExport.jquery.plugin-master/tableExport.min.js"></script>

<!-- 外联资源添加 -->
<script>
    $(function () {

        //初始化表格
        createDateTable();
        createMonthTable();
//        var dataSet;
//        $.ajax({
//            url:"userManagement.json",
//            success:function (msg) {
//
//                dataSet = msg.data;
//
//            }
//        })
        function createDateTable(){
            $("#dateTable").dataTable({

//				"ajax" : {
//				 "url" : "./userManagement.json",
//				 "data": function (data) {
////				 return $.extend( {}, data, {
////				 "siteid" : $("#psite").val(),
////				 "name" : $("#btnSearchName").val()
//					 console.log(data)
//				 	}
//				 },

                "data":
                    [
                {
                    "name": "张三",
                    "originalBalance": "5000",
                    "income":
                        {
                            "monetary": "5000",
                            "haidaoDeduction": "5000",
                            "zhekouDeduction": "5000",
                            "money": "5000"
                        },
                    "outcome":
                        {
                            "monetary": "5000",
                            "haidaoDeduction": "5000",
                            "zhekouDeduction": "5000",
                            "money": "5000"
                        },
                    "cashAmount": "5000",
                    "monetary": "5000",
                    "accountBalance": "8888"
                }
            ],
//            "data": [
//                {
//                    "id": "00001",
//                    "company": "用户名",
//                    "userStatus": "会员状态",
//                    "idCard": "321088xxxxxxxxxx",
//                    "dutytel": "电话",
//                    "sex": "性别",
//                    "linkman": "真实姓名",
//                    "linktel": "123456",
//                    "jobs": "101",
//                    "sitename": "db",
//                    "authInfo": "认证信息",
//					"flag":true
//                },
//                {
//                    "id": "00002",
//                    "company": "用户名",
//                    "userStatus": "会员状态",
//                    "idCard": "321088xxxxxxxxxx",
//                    "dutytel": "电话",
//                    "sex": "性别",
//                    "linkman": "真实姓名",
//                    "linktel": "123456",
//                    "jobs": "101",
//                    "sitename": "db",
//                    "authInfo": "认证信息",
//                    "flag":true
//                },
//                {
//                    "id": "00003",
//                    "company": "用户名",
//                    "userStatus": "会员状态",
//                    "idCard": "321088xxxxxxxxxx",
//                    "dutytel": "电话",
//                    "sex": "性别",
//                    "linkman": "真实姓名",
//                    "linktel": "123456",
//                    "jobs": "99",
//                    "sitename": "db",
//                    "authInfo": "认证信息",
//                    "flag":false
//                }
//            ],
                searching : false,
                lengthChange : false, // 是否启用设置每页显示记录数
                "language": {
                    "sLengthMenu": "&nbsp;&nbsp;&nbsp;&nbsp;每页显示 _MENU_ 条",
                    "sZeroRecords": "抱歉， 没有找到",
                    "sEmptyTable": "抱歉， 没有找到",
                    "sInfo": '显示 _START_ 到 _END_ 条　共 _TOTAL_ 条',
                    "sInfoEmpty": "没有记录",
                    "sInfoFiltered": "(从 _MAX_ 条数据中检索)",
                    "sProcessing":"正在加载中...",
                    "sSearch": "搜索：",
                    "oPaginate": {
                        "sFirst": "首页",
                        "sPrevious": "上一页",
                        "sNext": "下一页",
                        "sLast": "末页"
                    }
                },
                "pagingType": "full_numbers",//分页 有first last
                "columns" : [
                    {
                        "title": '<div class="icheckbox_flat-red allChecked" style="vertical-align: middle" ></div>全选',
                        "data": "null",
                        "name": "outreach.company",
                        "visible": true,
                        "orderable": false,
                        "render": function (data, type, full, meta) {
                            var operBtn = '<div class="icheckbox_flat-blue " style="position: relative;"></div>';
                            return operBtn;
                        }
                    },
                    {
                        "data" : "name",
                        "name" : "outreach.company",
                        "class":"name",
                        "visible" : true,
                        "orderable" : true,
                    },
                    {

                        "data" : "originalBalance",
                        "name" : "outreach.company",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "income.monetary",
                        "name" : "outreach.company",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "income.haidaoDeduction",
                        "name" : "123",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "income.zhekouDeduction",
                        "visible" : true,
                        "orderable" : false,
                        "class":"abtn",
                    },
                    {

                        "data" : "income.money",
                        "name" : "outreach.company",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "outcome.monetary",
                        "name" : "outreach.company",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "outcome.haidaoDeduction",
                        "name" : "123",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {
                        "data" : "outcome.zhekouDeduction",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {
                        "data" : "outcome.money",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {
                        "data" : "cashAmount",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {
                        "data" : "accountBalance",
                        "visible" : true,
                        "orderable" : false,
                    }
                ],
//            "order" : [ [ 2, "desc" ] ]
//            "lengthMenu":[[5,10,25,50,-1],[5,10,25,50,"全部"]]

            });
        }
        function createMonthTable(){
            $("#monthTable").dataTable({

//				"ajax" : {
//				 "url" : "./userManagement.json",
//				 "data": function (data) {
////				 return $.extend( {}, data, {
////				 "siteid" : $("#psite").val(),
////				 "name" : $("#btnSearchName").val()
//					 console.log(data)
//				 	}
//				 },



                "data":  [
                    {
                        "name": "保洁",
                        "monetary": "5000",
                        "haidaoDeduction": "200",
                        "zhekouDeduction": "200",
                        "cashDeduction":"500",
                        "id": "12",
                        "money": "4600"
                    },
                    {
                        "name": "货运",
                        "monetary": "5000",
                        "haidaoDeduction": "200",
                        "zhekouDeduction": "200",
                        "cashDeduction":"500",
                        "id": "12",
                        "money": "4600"
                    }
                ],




//            "data": [
//                {
//                    "id": "00001",
//                    "company": "用户名",
//                    "userStatus": "会员状态",
//                    "idCard": "321088xxxxxxxxxx",
//                    "dutytel": "电话",
//                    "sex": "性别",
//                    "linkman": "真实姓名",
//                    "linktel": "123456",
//                    "jobs": "101",
//                    "sitename": "db",
//                    "authInfo": "认证信息",
//					"flag":true
//                },
//                {
//                    "id": "00002",
//                    "company": "用户名",
//                    "userStatus": "会员状态",
//                    "idCard": "321088xxxxxxxxxx",
//                    "dutytel": "电话",
//                    "sex": "性别",
//                    "linkman": "真实姓名",
//                    "linktel": "123456",
//                    "jobs": "101",
//                    "sitename": "db",
//                    "authInfo": "认证信息",
//                    "flag":true
//                },
//                {
//                    "id": "00003",
//                    "company": "用户名",
//                    "userStatus": "会员状态",
//                    "idCard": "321088xxxxxxxxxx",
//                    "dutytel": "电话",
//                    "sex": "性别",
//                    "linkman": "真实姓名",
//                    "linktel": "123456",
//                    "jobs": "99",
//                    "sitename": "db",
//                    "authInfo": "认证信息",
//                    "flag":false
//                }
//            ],
                searching : false,
                lengthChange : false, // 是否启用设置每页显示记录数
                "language": {
                    "sLengthMenu": "&nbsp;&nbsp;&nbsp;&nbsp;每页显示 _MENU_ 条",
                    "sZeroRecords": "抱歉， 没有找到",
                    "sEmptyTable": "抱歉， 没有找到",
                    "sInfo": '显示 _START_ 到 _END_ 条　共 _TOTAL_ 条',
                    "sInfoEmpty": "没有记录",
                    "sInfoFiltered": "(从 _MAX_ 条数据中检索)",
                    "sProcessing":"正在加载中...",
                    "sSearch": "搜索：",
                    "oPaginate": {
                        "sFirst": "首页",
                        "sPrevious": "上一页",
                        "sNext": "下一页",
                        "sLast": "末页"
                    }
                },
                "pagingType": "full_numbers",//分页 有first last
                "columns" : [
                    {
                        "title": '<div class="icheckbox_flat-red allChecked" style="vertical-align: middle" ></div>全选',
                        "data": "null",
                        "name": "outreach.company",
                        "visible": true,
                        "orderable": false,
                        "render": function (data, type, full, meta) {
                            var operBtn = '<div class="icheckbox_flat-blue " style="position: relative;"></div>';
                            return operBtn;
                        }
                    },
                    {

                        "data" : "name",
                        "name" : "outreach.company",
                        "class":"name",
                        "visible" : true,
                        "orderable" : true,
                    },
                    {

                        "data" : "monetary",
                        "name" : "outreach.company",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "haidaoDeduction",
                        "name" : "outreach.company",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "haidaoDeduction",
                        "name" : "123",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "cashDeduction",
                        "name" : "123",
                        "visible" : true,
                        "orderable" : false,
                    },
                    {

                        "data" : "money",
                        "visible" : true,
                        "orderable" : false,
                        "class":"abtn",
                    }
                ],
//            "order" : [ [ 2, "desc" ] ]
//            "lengthMenu":[[5,10,25,50,-1],[5,10,25,50,"全部"]]

            });
        }
        //初始化日期控件
        $('.chooseTime-day').datetimepicker({
            language:  'zh-CN',
            format: 'yyyy-mm-dd',
            autoclose: true,
            todayBtn: true,
            weekStart: 1,
            todayHighlight: 1,
            startView: 2, //这里就设置了默认视图为年视图
            minView: 2, //设置最小视图为年视图
            forceParse: 0,
            pickerPosition: "bottom-left"
        });
        $('.chooseTime-month').datetimepicker({
            language:  'zh-CN',
            format: 'yyyy-mm',
            autoclose: true,
            todayBtn: true,
            weekStart: 1,
            todayHighlight: 1,
            startView: 3, //这里就设置了默认视图为年视图
            minView: 3, //设置最小视图为年视图
            forceParse: 0,
            pickerPosition: "bottom-left"
        });
        //全选、反选、批量删除
        chooseDelete("#dateTable");
        chooseDelete("#monthTable");

        function chooseDelete(el) {
            //全选
            $(el+" thead").on("click",".allChecked",function () {
                $(this).toggleClass("checked");
                if($(this).hasClass("checked")){
                    $(el+ " tbody .icheckbox_flat-blue").addClass("checked");
                }else {
                    $(el + " tbody .icheckbox_flat-blue").removeClass("checked");
                }
            });
            //反选
            var select;
            $(el).on("click",".icheckbox_flat-blue",function () {
                $(this).toggleClass('checked');
                var length1 = $(el+" tbody").find(".icheckbox_flat-blue").length;
                var length2 = $(el+" tbody").find(".checked").length;
                select = $(el+" tbody").find(".checked").parents("tr")
                if(length1==length2){
                    $(el+" thead").find(".allChecked").addClass("checked");
                }else{
                    $(el+" thead").find(".allChecked").removeClass("checked");
                }
            });
            //选择删除
            $(".all-delete").on("click",function () {
                if($(el+" tbody").find(".checked").length == 0){
                    return;
                }
                var num1 = layer.open({
                        content:"确定删除？",
                        btn:["确认","取消"],
                        yes:function () {
                            if($(el+" thead").find(".allChecked").hasClass("checked")){
                                $(el+" tbody").html("");
                                layer.close(num1);
                                return;
                            }
                            select.remove();
                            layer.close(num1);
                        }
                    }
                );
            })
        }

    })

</script>
</body>
</html>
